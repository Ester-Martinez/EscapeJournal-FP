(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,a,t){},104:function(e,a,t){},106:function(e,a,t){},128:function(e,a,t){},158:function(e,a,t){},170:function(e,a,t){},219:function(e,a,t){},222:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(21),c=t.n(r),l=(t(102),t(104),t(5)),i=t(6),o=t(8),m=t(7),u=t(9),d=(t(106),t(230)),h=t(233),p=t(229),f=(t(108),t(14)),E=t(228),g=t(43),v=t.n(g),b=function e(){var a=this;Object(l.a)(this,e),this.signup=function(e,t,n,s){return a.service.post("/signup",{username:e,password:t,email:n,name:s}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.checkUser=function(e){return a.service.get("/checkUser",{username:e}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.login=function(e,t){return a.service.post("/login",{username:e,password:t}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.loggedin=function(){return a.service.get("/currentUser").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.logout=function(){return a.service.get("/logout").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=v.a.create({baseURL:"".concat("https://myescapejournal.herokuapp.com/","api/auth"),withCredentials:!0})},N=t(19),O=(t(128),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleLogout=function(e){t.props.logout()},t.state={loggedInUser:null},t.service=new b,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(f.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement(E.a,{className:"navbar-item",to:"/home"},s.a.createElement("img",{src:"house-lock.png",width:"28",height:"28",alt:"home-icon"}))),s.a.createElement("div",{id:"JournalNavbar",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-start"},s.a.createElement(E.a,{to:"/add-experience",className:"navbar-item"},"Add experience"),s.a.createElement(E.a,{to:"/all-experiences",className:"navbar-item"},"My friends"),s.a.createElement(E.a,{to:"/profile",className:"navbar-item"},"My profile")),s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("h2",null,"Hi, ",this.state.loggedInUser.name)),s.a.createElement("div",{className:"navbar-item",onClick:this.handleLogout},s.a.createElement(N.Button,{color:"danger"},s.a.createElement("span",null,"Logout"))))))):s.a.createElement("div",null,s.a.createElement("nav",{className:"nav-style"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(E.a,{to:"/signup"},"Signup")),s.a.createElement("li",null,s.a.createElement(E.a,{to:"/login"},"Login")))))}}]),a}(n.Component)),j=t(30),y=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var a=t.state.username,n=t.state.password,s=t.state.email,r=t.state.name;t.service.signup(a,n,s,r).then(function(e){t.setState({username:"",password:"",email:"",name:""}),t.props.getUser(e.user)}).catch(function(e){t.setState({username:a,password:n,email:s,name:r,error:!0})})},t.handleChange=function(e){var a=e.target,n=a.name,s=a.value;t.setState(Object(j.a)({},n,s))},t.state={username:"",password:"",email:"",name:""},t.service=new b,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h3",null,"Welcome to ",s.a.createElement("span",null,"My Escape Journal"),". Here you can create your account"),s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Name"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",name:"name",value:this.state.name,onChange:function(a){return e.handleChange(a)},type:"text",placeholder:"Your name"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"far fa-address-card"})),this.state.name&&s.a.createElement("span",{className:"icon is-small is-right ok"},s.a.createElement("i",{className:"fas fa-check"})),!this.state.name&&s.a.createElement("span",{className:"icon is-small is-right not-ok"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})),!this.state.name&&s.a.createElement("p",{className:"help is-danger"},"Please, enter your name"))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Username"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",name:"username",value:this.state.username,onChange:function(a){return e.handleChange(a)},placeholder:"Username"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})),this.state.username&&s.a.createElement("span",{className:"icon is-small is-right ok"},s.a.createElement("i",{className:"fas fa-check"})),!this.state.username&&s.a.createElement("span",{className:"icon is-small is-right not-ok"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Email"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",name:"email",value:this.state.email,onChange:function(a){return e.handleChange(a)},placeholder:"your-email-address@email.example"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),this.state.email&&s.a.createElement("span",{className:"icon is-small is-right is-ok"},s.a.createElement("i",{className:"fas fa-check"})),!this.state.email&&s.a.createElement("span",{className:"icon is-small is-right is-not-ok"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Password"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",name:"password",value:this.state.password,onChange:function(a){return e.handleChange(a)},type:"password",placeholder:"Please, choose a password",autoComplete:"off"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})),this.state.password.length>=8&&s.a.createElement("span",{className:"icon is-small is-right is-ok"},s.a.createElement("i",{className:"fas fa-check"})),this.state.password.length<8&&s.a.createElement("span",{className:"icon is-small is-right is-not-ok"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"}))),this.state.password.length<8&&this.state.password.length>0&&s.a.createElement("p",{className:"help is-danger"},"The password must contain at least 8 characters and at least one of them has to be a number")),s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement(E.a,{to:"/public"},s.a.createElement(N.Button,{color:"danger",inverted:!0},s.a.createElement("span",null,"Back to home")))),s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"submit",value:"Sign up",className:"button is-link"})))),s.a.createElement("h1",null,this.state.error?"There seems to be an error. Please, try again":""))}}]),a}(n.Component),k=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var a=t.state.username,n=t.state.password;t.service.login(a,n).then(function(e){t.setState({username:a,password:n,error:!1}),t.props.getUser(e)}).catch(function(e){t.setState({username:a,password:n,error:!0})})},t.handleChange=function(e){var a=e.target,n=a.name,s=a.value;t.setState(Object(j.a)({},n,s))},t.state={username:"",password:""},t.service=new b,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h3",null,"Please, login to access your journal"),s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Username"),s.a.createElement("div",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"text",name:"username",value:this.state.username,onChange:function(a){return e.handleChange(a)},placeholder:"Username"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Password"),s.a.createElement("div",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",name:"password",value:this.state.password,onChange:function(a){return e.handleChange(a)},placeholder:"Your password",autoComplete:"off"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement(E.a,{to:"/public"},s.a.createElement(N.Button,{color:"danger",inverted:!0},s.a.createElement("span",null,"Back to home")))),s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"submit",value:"Login",className:"button is-link"})))),s.a.createElement("h1",null,this.state.error?"There seems to be an error. Please, try again":""))}}]),a}(n.Component),w=t(33),S=t(61),x=t(72),C=(t(158),t(160),t(162),t(164),t(166),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={visible:!1},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"mdc-card card"},s.a.createElement(w.a,{style:{width:"23rem"}},s.a.createElement(E.a,{to:this.props.experienceId,className:"image"},s.a.createElement(w.g,null,s.a.createElement(w.f,{sixteenByNine:!0,style:{backgroundImage:"url(".concat(this.props.imgPath,")")}}))),s.a.createElement("div",{style:{padding:"0 1rem 1rem 1rem"}},s.a.createElement(S.a,{use:"headline6",tag:"h2",style:{marginTop:"2rem"}},this.props.roomDone),s.a.createElement(S.a,{use:"subtitle2",tag:"h3",theme:"textSecondaryOnBackground"},this.props.escapeDone),s.a.createElement(S.a,{use:"body1",tag:"div",theme:"textSecondaryOnBackground",style:{marginTop:"1rem"}},this.props.date," - ",this.props.user,", ",this.props.team)),s.a.createElement(w.e,null,s.a.createElement(w.c,null,s.a.createElement(w.b,null,"Add")),s.a.createElement(w.d,null,s.a.createElement(x.Whatsapp,{className:"icon",solid:!0,small:!0,message:"I just did an awesome escape called ".concat(this.props.roomDone," at ").concat(this.props.escapeDone,". You should go!"),link:"https://myescapejournal.herokuapp.com/".concat(this.props.experienceId)}),s.a.createElement(x.Telegram,{className:"icon",solidcircle:!0,small:!0,link:"I just did an awesome escape called ".concat(this.props.roomDone," at ").concat(this.props.escapeDone,". You should go! ").concat("https://myescapejournal.herokuapp.com/").concat(this.props.experienceId)})))))}}]),a}(n.Component)),D=(t(170),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"getTeamMembers",value:function(e){var a=[];return e.forEach(function(e){a.push(e.friendName)}),a.join(", ")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"cards"},this.props.experiences.map(function(a,t){return s.a.createElement(C,{experienceId:a._id,user:e.props.user.name,imgPath:a.imgPath,roomDone:a.roomDone.name,escapeDone:a.escapeDone.name,date:a.date,team:e.getTeamMembers(a.team)})}))}}]),a}(n.Component)),U=t(232),F=function(){function e(){var a=this;Object(l.a)(this,e),this.addExperience=function(e,t,n,s,r,c){return a.service.post("/add-experience",{escapeDone:e,roomDone:t,team:n,date:s,imgName:r,imgPath:c}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.addFriend=function(e,t){return a.service.post("/add-friend",{friendName:e,friendEmail:t}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.allEscapes=function(){return a.service.get("/allescapes").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.allRooms=function(){return a.service.get("/allrooms").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.myFriends=function(){return a.service.get("/myfriends").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.myExperiences=function(){return a.service.get("/myexperiences").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=v.a.create({baseURL:"".concat("https://myescapejournal.herokuapp.com/","user"),withCredentials:!0})}return Object(i.a)(e,[{key:"handleUpload",value:function(e){return this.service.post("/upload",e).then(function(e){return e.data}).catch(function(e){return console.log(e)})}}]),e}(),I=t(39),P=function(e){var a=e.map(function(e){return{label:e.name,value:e._id}});return a},B=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={selectedOption:null},t.handleChange=function(e){t.setState({selectedOption:e},function(){return t.props.updateEscapeDone(t.state.selectedOption)})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.selectedOption;return s.a.createElement(I.a,{value:e,onChange:this.handleChange,options:P(this.props.escapes)})}}]),a}(s.a.Component),T=function(e,a){var t=[];e.forEach(function(e){e.escape===a&&t.push(e)});var n=t.map(function(e){return{label:e.name,value:e._id}});return n},R=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={selectedOption:null},t.handleChange=function(e){t.setState({selectedOption:e},function(){return t.props.updateRoomDone(t.state.selectedOption)})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.selectedOption;return s.a.createElement(I.a,{value:e,onChange:this.handleChange,options:T(this.props.rooms,this.props.escape)})}}]),a}(s.a.Component),A=function(e){var a=e.map(function(e){return{label:"".concat(e.friendName," <").concat(e.friendEmail,">"),value:e._id}});return a},L=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={selectedOption:null},t.handleChange=function(e){t.setState({selectedOption:e},function(){t.props.updateTeam(t.state.selectedOption)})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.selectedOption;return s.a.createElement(I.a,{isMulti:!0,value:e,onChange:this.handleChange,options:A(this.props.friends)})}}]),a}(s.a.Component),M=t(89),W=t.n(M),_=(t(215),t(217),function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={startDate:new Date},t.handleChange=function(e){t.setState({startDate:e},function(){return t.props.updateDate(t.state.startDate)})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement(W.a,{className:"calendar",dateFormat:"dd/MM/yyyy",selected:this.state.startDate,onChange:this.handleChange})}}]),a}(s.a.Component)),J=(t(219),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var a=t.state.escapeDone,n=t.state.roomDone,s=t.state.team,r=t.state.date,c=t.state.imgName,l=t.state.imgPath;t.service.addExperience(a,n,s,r,c,l).then(function(e){t.setState({escapeDone:"",roomDone:"",team:[],date:"",imgName:"",imgPath:"",success:!0},function(){t.props.getExperiences(),t.props.history.push("/home")})}).catch(function(e){console.log(e),t.setState(Object(f.a)({},t.state,{error:!0}))})},t.handleFormSubmitFriend=function(e){e.preventDefault();var a=t.state.friendName,n=t.state.friendEmail;t.service.addFriend(a,n).then(function(e){t.setState(Object(f.a)({},t.state,{friendName:"",friendEmail:""}),function(){return t.props.getFriends()})}).catch(function(e){console.log(e),t.setState(Object(f.a)({},t.state,{error:!0}))})},t.handleChange=function(e){var a=e.target,n=a.name,s=a.value;t.setState(Object(j.a)({},n,s))},t.updateEscapeDone=function(e){t.setState(Object(f.a)({},t.state,{escapeDone:e}))},t.updateTeam=function(e){var a=[];e.forEach(function(e){return a.push(e.value)}),t.setState(Object(f.a)({},t.state,{team:a}))},t.updateRoomDone=function(e){t.setState(Object(f.a)({},t.state,{roomDone:e.value,escapeDone:t.state.escapeDone.value}))},t.updateDate=function(e){t.setState(Object(f.a)({},t.state,{date:e}))},t.handleFileUpload=function(e){var a=new FormData;a.append("imageUrl",e.target.files[0]),t.service.handleUpload(a).then(function(e){t.setState({imgPath:e.secure_url,imgName:t.state.roomDone})}).catch(function(e){console.log("Error while uploading the file: ",e)})},t.state={friendName:"",friendEmail:"",escapeDone:"",roomDone:"",team:[],date:"",imgName:"",imgPath:""},t.service=new F,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"checkToSend",value:function(){return!(this.state.escapeDone&&this.state.roomDone&&this.state.team&&this.state.date&&this.state.imgName&&this.state.imgPath)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"new-experience"},s.a.createElement("div",{className:"add-friend"},s.a.createElement("h3",null,"If your friends are not on your list, add them here:"),s.a.createElement("form",{onSubmit:function(a){return e.handleFormSubmitFriend(a)}},s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field friend-field"},s.a.createElement("div",{className:"control has-icons-left is-expanded"},s.a.createElement("input",{className:"input",type:"text",name:"friendName",value:this.state.friendName,onChange:function(a){return e.handleChange(a)},placeholder:"New Friend Name"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})))),s.a.createElement("div",{className:"field friend-field"},s.a.createElement("div",{className:"control has-icons-left is-expanded"},s.a.createElement("input",{className:"input",type:"email",name:"friendEmail",value:this.state.friendEmail,onChange:function(a){return e.handleChange(a)},placeholder:"your-friend-email-@email.example"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"}))))),s.a.createElement("div",{className:"field is-centered"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"submit",value:"Add Friend",className:"button is-link"})))),s.a.createElement("br",null)),s.a.createElement("div",{className:"add-experience"},s.a.createElement("h3",null,"Please, add your new experience:"),s.a.createElement("form",{onSubmit:function(a){return e.handleFormSubmit(a)}},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column-one"},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Escape Name"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement(B,{className:"select",escapes:this.props.escapes,isSearchable:!0,updateEscapeDone:this.updateEscapeDone,placeholder:"Escape room name"}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Room Name"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement(R,{className:"select",escape:this.state.escapeDone.value,rooms:this.props.rooms,isSearchable:!0,updateRoomDone:this.updateRoomDone,placeholder:"Room name"}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Friends"),s.a.createElement("div",{className:"control"},s.a.createElement(L,{className:"select basic-multi-select",friends:this.props.friends,isSearchable:!0,updateTeam:this.updateTeam,placeholder:"Friend name"})))),s.a.createElement("div",{className:"column-two"},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Game Date"),s.a.createElement("div",{className:"control"},s.a.createElement(_,{updateDate:this.updateDate}))),s.a.createElement("div",{className:"file is-medium is-boxed"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"imageUrl",onChange:function(a){return e.handleFileUpload(a)}}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-icon"},s.a.createElement("i",{className:"fas fa-upload"})),s.a.createElement("span",{className:"file-label"},"Choose a file\u2026")))))),s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement(E.a,{to:"/public"},s.a.createElement(N.Button,{color:"danger",inverted:!0},s.a.createElement("span",null,"Back to home")))),s.a.createElement("div",{className:"control"},s.a.createElement(N.Button,{type:"submit",color:"info",disabled:this.checkToSend()},"Save new experience")))))),this.state.success?s.a.createElement(E.a,{to:"/home"},"Back home"):"")}}]),a}(n.Component)),Y=Object(U.a)(J),H=function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null)}}]),a}(n.Component),G=function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null)}}]),a}(n.Component),z=function(e){function a(e){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"Hola")}}]),a}(n.Component),K=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).getExperiences=function(){t.userService.myExperiences().then(function(e){t.setState(Object(f.a)({},t.state,{experiences:e}))})},t.state={loggedInUser:t.props.userInSession,escapes:[],rooms:[],friends:[],experiences:[]},t.userService=new F,t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"getEscapes",value:function(){var e=this;this.userService.allEscapes().then(function(a){e.setState(Object(f.a)({},e.state,{escapes:a}))})}},{key:"getRooms",value:function(){var e=this;this.userService.allRooms().then(function(a){e.setState(Object(f.a)({},e.state,{rooms:a}))})}},{key:"getFriends",value:function(){var e=this;this.userService.myFriends().then(function(a){e.setState(Object(f.a)({},e.state,{friends:a}))})}},{key:"componentDidMount",value:function(){this.getEscapes(),this.getRooms(),this.getFriends(),this.getExperiences()}},{key:"render",value:function(){var e=this;return s.a.createElement(h.a,null,s.a.createElement(p.a,{exact:!0,path:"/home",render:function(){return s.a.createElement(D,{escapes:e.state.escapes,rooms:e.state.rooms,user:e.state.loggedInUser,friends:e.state.friends,experiences:e.state.experiences})}}),s.a.createElement(p.a,{exact:!0,path:"/add-experience",render:function(){return s.a.createElement(Y,{getExperiences:e.getExperiences,escapes:e.state.escapes,rooms:e.state.rooms,user:e.state.loggedInUser,friends:e.state.friends,getFriends:function(){return e.getFriends()}})}}),s.a.createElement(p.a,{exact:!0,path:"/all-friends",render:function(){return s.a.createElement(H,{escapes:e.state.escapes,rooms:e.state.rooms,user:e.state.loggedInUser,friends:e.state.friends})}}),s.a.createElement(p.a,{exact:!0,path:"/profile",render:function(){return s.a.createElement(G,{user:e.state.loggedInUser})}}))}}]),a}(n.Component),$=t(93),q=t.n($),Q=function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Keep all your escape room activity in one place"),s.a.createElement("img",{src:q.a,alt:"logo"}),s.a.createElement("h1",null,"Please, log in or sign up to create or access your journal"),s.a.createElement(E.a,{to:"/signup"},s.a.createElement(N.Button,{color:"info"},s.a.createElement("span",null,"Sign up"))),s.a.createElement(E.a,{to:"/login"},s.a.createElement(N.Button,{color:"primary"},s.a.createElement("span",null,"Login"))))}}]),a}(n.Component),V=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).getUser=function(e){t.setState({loggedInUser:e})},t.logout=function(){t.service.logout().then(function(){t.setState({loggedInUser:null})})},t.fetchUser=function(){t.service.loggedin().then(function(e){t.setState({loggedInUser:e})}).catch(function(e){t.setState({loggedInUser:!1})})},t.state={loggedInUser:null},t.service=new b,t.fetchUser(),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.state.loggedInUser?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{to:"/home"}),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement(O,{userInSession:this.state.loggedInUser,logout:this.logout}),s.a.createElement(K,{userInSession:this.state.loggedInUser})))):s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{to:"/public"}),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement(h.a,null,s.a.createElement(p.a,{exact:!0,path:"/public",render:function(){return s.a.createElement(Q,null)}}),s.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return s.a.createElement(y,{getUser:e.getUser})}}),s.a.createElement(p.a,{exact:!0,path:"/login",render:function(){return s.a.createElement(k,{getUser:e.getUser})}}),s.a.createElement(p.a,{path:"/:id",render:function(){return s.a.createElement(z,{escapes:e.state.escapes,rooms:e.state.rooms})}})))))}}]),a}(n.Component),X=t(231);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(X.a,null,s.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,a,t){e.exports=t.p+"static/media/journal-LOGO2.cbf634a3.png"},97:function(e,a,t){e.exports=t(222)}},[[97,2,1]]]);
//# sourceMappingURL=main.a2c3d278.chunk.js.map