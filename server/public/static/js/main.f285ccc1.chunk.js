(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){},107:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){},133:function(e,t,a){},163:function(e,t,a){},175:function(e,t,a){},224:function(e,t,a){},229:function(e,t,a){},231:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(21),c=a.n(r),l=(a(103),a(105),a(5)),i=a(6),o=a(8),m=a(7),u=a(9),h=(a(107),a(242)),p=a(243),d=a(240),f=(a(109),a(13)),E=a(239),g=a(43),v=a.n(g),b=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,a,n,s){return t.service.post("/signup",{username:e,password:a,email:n,name:s}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.checkUser=function(e){return t.service.get("/checkUser",{username:e}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=v.a.create({baseURL:"".concat("https://myescapejournal.herokuapp.com/","api/auth"),withCredentials:!0})},N=a(16),O=(a(129),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null},a.service=new b,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(f.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement(E.a,{className:"navbar-item",to:"/home"},s.a.createElement("img",{src:"house-lock.png",width:"28",height:"28",alt:"home-icon"}))),s.a.createElement("div",{id:"JournalNavbar",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-start"},s.a.createElement(E.a,{to:"/add-experience",className:"navbar-item"},"Add experience"),s.a.createElement(E.a,{to:"/all-friends",className:"navbar-item"},"My friends"),s.a.createElement(E.a,{to:"/profile",className:"navbar-item"},"My profile")),s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("h3",{className:"navbar-item"},"Hi, ",this.state.loggedInUser.name)),s.a.createElement("div",{className:"navbar-item",onClick:this.handleLogout},s.a.createElement(N.Button,{color:"danger"},s.a.createElement("span",null,"Logout"))))))):s.a.createElement("div",null,s.a.createElement("nav",{className:"nav-style"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(E.a,{to:"/signup"},"Signup")),s.a.createElement("li",null,s.a.createElement(E.a,{to:"/login"},"Login")))))}}]),t}(n.Component)),j=a(29),y=(a(131),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,s=a.state.email,r=a.state.name;a.service.signup(t,n,s,r).then(function(e){a.setState({username:"",password:"",email:"",name:""}),a.props.getUser(e.user)}).catch(function(e){a.setState({username:t,password:n,email:s,name:r,error:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(j.a)({},n,s))},a.state={username:"",password:"",email:"",name:""},a.service=new b,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{class:"signup"},s.a.createElement("h3",null,"Welcome to ",s.a.createElement("span",null,"My Escape Journal"),". Here you can create your account"),s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Name"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)},type:"text",placeholder:"Your name"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"far fa-address-card"})),this.state.name&&s.a.createElement("span",{className:"icon is-small is-right ok"},s.a.createElement("i",{className:"fas fa-check"})),!this.state.name&&s.a.createElement("span",{className:"icon is-small is-right not-ok"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})),!this.state.name&&s.a.createElement("p",{className:"help is-danger"},"Please, enter your name"))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Username"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},placeholder:"Username"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})),this.state.username&&s.a.createElement("span",{className:"icon is-small is-right ok"},s.a.createElement("i",{className:"fas fa-check"})),!this.state.username&&s.a.createElement("span",{className:"icon is-small is-right not-ok"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Email"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)},placeholder:"your-email-address@email.example"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),this.state.email&&s.a.createElement("span",{className:"icon is-small is-right is-ok"},s.a.createElement("i",{className:"fas fa-check"})),!this.state.email&&s.a.createElement("span",{className:"icon is-small is-right is-not-ok"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Password"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},type:"password",placeholder:"Please, choose a password",autoComplete:"off"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})),this.state.password.length>=8&&s.a.createElement("span",{className:"icon is-small is-right is-ok"},s.a.createElement("i",{className:"fas fa-check"})),this.state.password.length<8&&s.a.createElement("span",{className:"icon is-small is-right is-not-ok"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"}))),this.state.password.length<8&&this.state.password.length>0&&s.a.createElement("p",{className:"help is-danger"},"The password must contain at least 8 characters and at least one of them has to be a number")),s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement(E.a,{to:"/public"},s.a.createElement(N.Button,{color:"danger",inverted:!0},s.a.createElement("span",null,"Back to home")))),s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"submit",value:"Sign up",className:"button is-link"})))),s.a.createElement("h1",null,this.state.error?"There seems to be an error. Please, try again":""))}}]),t}(n.Component)),x=(a(133),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)}).catch(function(e){a.setState({username:t,password:n,error:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(j.a)({},n,s))},a.state={username:"",password:""},a.service=new b,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{class:"login"},s.a.createElement("h3",null,"Please, login to access your journal"),s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Username"),s.a.createElement("div",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},placeholder:"Username"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Password"),s.a.createElement("div",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},placeholder:"Your password",autoComplete:"off"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement(E.a,{to:"/public"},s.a.createElement(N.Button,{color:"danger",inverted:!0},s.a.createElement("span",null,"Back to home")))),s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"submit",value:"Login",className:"button is-link"})))),s.a.createElement("h1",null,this.state.error?"There seems to be an error. Please, try again":""))}}]),t}(n.Component)),k=a(33),w=a(61),S=a(72),C=(a(163),a(165),a(167),a(169),a(171),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={visible:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"mdc-card card"},s.a.createElement(k.a,{style:{width:"23rem"}},s.a.createElement(E.a,{to:this.props.experienceId,className:"image"},s.a.createElement(k.g,null,s.a.createElement(k.f,{sixteenByNine:!0,style:{backgroundImage:"url(".concat(this.props.imgPath,")")}}))),s.a.createElement("div",{style:{padding:"0 1rem 1rem 1rem"}},s.a.createElement(w.a,{use:"headline6",tag:"h2",style:{marginTop:"2rem"}},this.props.roomDone),s.a.createElement(w.a,{use:"subtitle2",tag:"h3",theme:"textSecondaryOnBackground"},this.props.escapeDone),s.a.createElement(w.a,{use:"body1",tag:"div",theme:"textSecondaryOnBackground",style:{marginTop:"1rem"}},this.props.date," - ",this.props.user,", ",this.props.team)),s.a.createElement(k.e,null,s.a.createElement(k.c,null,s.a.createElement(k.b,null,"Add")),s.a.createElement(k.d,null,s.a.createElement(S.Whatsapp,{className:"icon",solid:!0,small:!0,message:"I just did an awesome escape called ".concat(this.props.roomDone," at ").concat(this.props.escapeDone,". You should go! Check out this web, where I post all my game pictures"),link:"".concat("https://myescapejournal.herokuapp.com/").concat(this.props.experienceId)}),s.a.createElement(S.Telegram,{className:"icon",solidcircle:!0,small:!0,link:"I just did an awesome escape called ".concat(this.props.roomDone," at ").concat(this.props.escapeDone,". You should go! Check out this web, where I post all my game pictures ").concat("https://myescapejournal.herokuapp.com/").concat(this.props.experienceId)})))))}}]),t}(n.Component)),D=(a(175),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getTeamMembers",value:function(e){var t=[];return e.forEach(function(e){t.push(e.friendName)}),t.join(", ")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"cards"},this.props.experiences.map(function(t,a){return s.a.createElement(C,{key:a,experienceId:t._id,user:t.owner.name,imgPath:t.imgPath,roomDone:t.roomDone.name,escapeDone:t.escapeDone.name,date:t.date,team:e.getTeamMembers(t.team)})}))}}]),t}(n.Component)),U=a(244),I=function(){function e(){var t=this;Object(l.a)(this,e),this.addExperience=function(e,a,n,s,r,c){return t.service.post("/add-experience",{escapeDone:e,roomDone:a,team:n,date:s,imgName:r,imgPath:c}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.addFriend=function(e,a){return t.service.post("/add-friend",{friendName:e,friendEmail:a}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.allEscapes=function(){return t.service.get("/allescapes").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.allRooms=function(){return t.service.get("/allrooms").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.myFriends=function(){return t.service.get("/myfriends").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.myExperiences=function(){return t.service.get("/myexperiences").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.service=v.a.create({baseURL:"".concat("https://myescapejournal.herokuapp.com/","user"),withCredentials:!0})}return Object(i.a)(e,[{key:"oneExperience",value:function(e){return this.service.get("/experience/".concat(e)).then(function(e){return e.data}).catch(function(e){return console.log(e)})}},{key:"handleUpload",value:function(e){return this.service.post("/upload",e).then(function(e){return e.data}).catch(function(e){return console.log(e)})}}]),e}(),F=a(39),P=function(e){var t=e.map(function(e){return{label:e.name,value:e._id}});return t},B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={selectedOption:null},a.handleChange=function(e){a.setState({selectedOption:e},function(){return a.props.updateEscapeDone(a.state.selectedOption)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.selectedOption;return s.a.createElement(F.a,{value:e,onChange:this.handleChange,options:P(this.props.escapes)})}}]),t}(s.a.Component),T=function(e,t){var a=[];e.forEach(function(e){e.escape===t&&a.push(e)});var n=a.map(function(e){return{label:e.name,value:e._id}});return n},R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={selectedOption:null},a.handleChange=function(e){a.setState({selectedOption:e},function(){return a.props.updateRoomDone(a.state.selectedOption)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.selectedOption;return s.a.createElement(F.a,{value:e,onChange:this.handleChange,options:T(this.props.rooms,this.props.escape)})}}]),t}(s.a.Component),M=function(e){var t=e.map(function(e){return{label:"".concat(e.friendName," <").concat(e.friendEmail,">"),value:e._id}});return t},A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={selectedOption:null},a.handleChange=function(e){a.setState({selectedOption:e},function(){a.props.updateTeam(a.state.selectedOption)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.selectedOption;return s.a.createElement(F.a,{isMulti:!0,value:e,onChange:this.handleChange,options:M(this.props.friends)})}}]),t}(s.a.Component),L=a(90),W=a.n(L),_=(a(220),a(222),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={startDate:new Date},a.handleChange=function(e){a.setState({startDate:e},function(){return a.props.updateDate(a.state.startDate)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(W.a,{className:"calendar",dateFormat:"dd/MM/yyyy",selected:this.state.startDate,onChange:this.handleChange})}}]),t}(s.a.Component)),J=(a(224),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.escapeDone,n=a.state.roomDone,s=a.state.team,r=a.state.date,c=a.state.imgName,l=a.state.imgPath;a.service.addExperience(t,n,s,r,c,l).then(function(e){a.setState({escapeDone:"",roomDone:"",team:[],date:"",imgName:"",imgPath:"",formEmpty:!0},function(){a.props.getExperiences(),a.props.history.push("/home")})}).catch(function(e){console.log(e),a.setState(Object(f.a)({},a.state,{error:!0}))})},a.handleFormSubmitFriend=function(e){e.preventDefault();var t=a.state.friendName,n=a.state.friendEmail;a.service.addFriend(t,n).then(function(e){a.setState(Object(f.a)({},a.state,{friendName:"",friendEmail:""}),function(){return a.props.getFriends()})}).catch(function(e){console.log(e),a.setState(Object(f.a)({},a.state,{error:!0}))})},a.handleChange=function(e){var t,n=e.target,s=n.name,r=n.value;a.setState((t={},Object(j.a)(t,s,r),Object(j.a)(t,"formEmpty",!1),t))},a.updateEscapeDone=function(e){a.setState(Object(f.a)({},a.state,{escapeDone:e}))},a.updateTeam=function(e){var t=[];e.forEach(function(e){return t.push(e.value)}),a.setState(Object(f.a)({},a.state,{team:t}))},a.updateRoomDone=function(e){a.setState(Object(f.a)({},a.state,{roomDone:e.value,escapeDone:a.state.escapeDone.value}))},a.updateDate=function(e){a.setState(Object(f.a)({},a.state,{date:e}))},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.service.handleUpload(t).then(function(e){a.setState({imgPath:e.secure_url,imgName:a.state.roomDone})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.state={friendName:"",friendEmail:"",escapeDone:"",roomDone:"",team:[],date:"",imgName:"",imgPath:""},a.service=new I,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"checkToSend",value:function(){return!(this.state.escapeDone&&this.state.roomDone&&this.state.team&&this.state.date&&this.state.imgName&&this.state.imgPath)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"new-experience"},s.a.createElement("div",{className:"add-friend"},s.a.createElement("h3",{className:"friend-title"},"If your friends are not on your list, add them here:"),s.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmitFriend(t)}},s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field friend-field"},s.a.createElement("div",{className:"control has-icons-left is-expanded"},s.a.createElement("input",{className:"input",type:"text",name:"friendName",value:this.state.friendName,onChange:function(t){return e.handleChange(t)},placeholder:"New Friend Name"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})))),s.a.createElement("div",{className:"field friend-field"},s.a.createElement("div",{className:"control has-icons-left is-expanded"},s.a.createElement("input",{className:"input",type:"email",name:"friendEmail",value:this.state.friendEmail,onChange:function(t){return e.handleChange(t)},placeholder:"your-friend-email-@email.example"}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"}))))),s.a.createElement("div",{className:"field is-centered"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"submit",value:"Add Friend",className:"button is-link"})))),s.a.createElement("br",null)),s.a.createElement("div",{className:"add-experience"},s.a.createElement("h3",{className:"experience-title"},"Please, add your new experience:"),s.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column-one"},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Escape Name"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement(B,{className:"select",escapes:this.props.escapes,isSearchable:!0,updateEscapeDone:this.updateEscapeDone,placeholder:"Escape room name"}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Room Name"),s.a.createElement("div",{className:"control has-icons-left has-icons-right"},s.a.createElement(R,{className:"select",escape:this.state.escapeDone.value,rooms:this.props.rooms,isSearchable:!0,updateRoomDone:this.updateRoomDone,placeholder:"Room name"}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Friends"),s.a.createElement("div",{className:"control"},s.a.createElement(A,{className:"select basic-multi-select",friends:this.props.friends,isSearchable:!0,updateTeam:this.updateTeam,placeholder:"Friend name"})))),s.a.createElement("div",{className:"column-two"},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Game Date"),s.a.createElement("div",{className:"control"},s.a.createElement(_,{className:"calendar",updateDate:this.updateDate}))),s.a.createElement("div",{className:"file is-medium is-boxed"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"imageUrl",onChange:function(t){return e.handleFileUpload(t)}}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-icon"},s.a.createElement("i",{className:"fas fa-upload"})),s.a.createElement("span",{className:"file-label"},"Choose a file\u2026")))))),s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement(E.a,{to:"/public"},s.a.createElement(N.Button,{color:"danger",inverted:!0},s.a.createElement("span",null,"Back to home")))),this.state.formEmpty?s.a.createElement("div",{className:"control"},s.a.createElement(N.Button,{type:"submit",color:"info",loading:this.checkToSend()},"Save new experience")):s.a.createElement("div",{className:"control"},s.a.createElement(N.Button,{type:"submit",color:"info",loading:!1},"Save new experience")))))),this.state.success?s.a.createElement(E.a,{to:"/home"},"Back home"):"")}}]),t}(n.Component)),Y=Object(U.a)(J),H=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null)}}]),t}(n.Component),z=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null)}}]),t}(n.Component),G=a(76),K=a.n(G),$=a(94),q=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,this.props.user),s.a.createElement("img",{src:this.props.imgPath}),s.a.createElement("h2",null,this.props.roomDone),s.a.createElement("h2",null,this.props.escapeDone),s.a.createElement("h2",null,this.props.date),s.a.createElement("h2",null,this.props.team))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={experience:null},a.userService=new I,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getExperience()}},{key:"getExperience",value:function(){var e=Object($.a)(K.a.mark(function e(){var t,a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.userService.oneExperience(t);case 3:a=e.sent,this.setState(Object(f.a)({},this.state,{experience:a}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getTeamMembers",value:function(e){var t=[];return e.forEach(function(e){t.push(e.friendName)}),t.join(", ")}},{key:"render",value:function(){return this.state.experience?s.a.createElement(q,{user:this.state.experience.owner.name,imgPath:this.state.experience.imgPath,roomDone:this.state.experience.roomDone.name,escapeDone:this.state.experience.escapeDone.name,date:this.state.experience.date,team:this.getTeamMembers(this.state.experience.team)}):s.a.createElement("p",null,"Loading...")}}]),t}(n.Component),V=Object(U.a)(Q),X=(a(229),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getExperiences=function(){a.userService.myExperiences().then(function(e){a.setState(Object(f.a)({},a.state,{experiences:e}))})},a.state={loggedInUser:a.props.userInSession,escapes:[],rooms:[],friends:[],experiences:[]},a.userService=new I,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getEscapes",value:function(){var e=this;this.userService.allEscapes().then(function(t){e.setState(Object(f.a)({},e.state,{escapes:t}))})}},{key:"getRooms",value:function(){var e=this;this.userService.allRooms().then(function(t){e.setState(Object(f.a)({},e.state,{rooms:t}))})}},{key:"getFriends",value:function(){var e=this;this.userService.myFriends().then(function(t){e.setState(Object(f.a)({},e.state,{friends:t}))})}},{key:"componentDidMount",value:function(){this.getEscapes(),this.getRooms(),this.getFriends(),this.getExperiences()}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,null,s.a.createElement(d.a,{exact:!0,path:"/home",render:function(){return s.a.createElement(D,{escapes:e.state.escapes,rooms:e.state.rooms,user:e.state.loggedInUser,friends:e.state.friends,experiences:e.state.experiences})}}),s.a.createElement(d.a,{exact:!0,path:"/add-experience",render:function(){return s.a.createElement(Y,{getExperiences:e.getExperiences,escapes:e.state.escapes,rooms:e.state.rooms,user:e.state.loggedInUser,friends:e.state.friends,getFriends:function(){return e.getFriends()}})}}),s.a.createElement(d.a,{exact:!0,path:"/all-friends",render:function(){return s.a.createElement(H,{escapes:e.state.escapes,rooms:e.state.rooms,user:e.state.loggedInUser,friends:e.state.friends,getExperiences:e.getExperiences})}}),s.a.createElement(d.a,{exact:!0,path:"/profile",render:function(){return s.a.createElement(z,{user:e.state.loggedInUser})}}),s.a.createElement(d.a,{path:"/:id",render:function(){return s.a.createElement(V,{experiences:e.state.experiences})}}))}}]),t}(n.Component)),Z=(a(231),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"homepage"},s.a.createElement("h1",null,"Keep all your escape room activity in one place"),s.a.createElement("h2",null,"Please, log in or sign up to create or access your journal"),s.a.createElement("div",{className:"field is-grouped"},s.a.createElement(E.a,{to:"/signup"},s.a.createElement(N.Button,{color:"info",className:"is-medium"},s.a.createElement("span",null,"Sign up"))),s.a.createElement(E.a,{to:"/login"},s.a.createElement(N.Button,{color:"primary",className:"is-medium"},s.a.createElement("span",null,"Login")))))}}]),t}(n.Component)),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then(function(){a.setState({loggedInUser:null})})},a.fetchUser=function(){a.service.loggedin().then(function(e){a.setState({loggedInUser:e})}).catch(function(e){a.setState({loggedInUser:!1})})},a.state={loggedInUser:null},a.service=new b,a.fetchUser(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.loggedInUser?s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{to:"/home"}),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement(O,{userInSession:this.state.loggedInUser,logout:this.logout}),s.a.createElement(X,{userInSession:this.state.loggedInUser})))):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{to:"/public"}),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement(p.a,null,s.a.createElement(d.a,{exact:!0,path:"/public",render:function(){return s.a.createElement(Z,null)}}),s.a.createElement(d.a,{exact:!0,path:"/signup",render:function(){return s.a.createElement(y,{getUser:e.getUser})}}),s.a.createElement(d.a,{exact:!0,path:"/login",render:function(){return s.a.createElement(x,{getUser:e.getUser})}}),")} />"))))}}]),t}(n.Component),te=a(241);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(te.a,null,s.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},98:function(e,t,a){e.exports=a(233)}},[[98,2,1]]]);
//# sourceMappingURL=main.f285ccc1.chunk.js.map